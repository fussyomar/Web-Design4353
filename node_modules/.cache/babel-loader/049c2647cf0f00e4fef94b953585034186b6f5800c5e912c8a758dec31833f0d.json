{"ast":null,"code":"import axios from \"axios\";\n\n// Get API URL from environment variables or use default\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5001/api\";\n\n// Create an axios instance with defaults\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Interceptor for handling errors globally\napi.interceptors.response.use(response => response, error => {\n  // Handle common errors\n  if (error.response) {\n    // Server responded with error status (4xx, 5xx)\n    console.error(\"API Error:\", error.response.data);\n\n    // Handle authentication errors - redirect to login if unauthorized\n    if (error.response.status === 401 || error.response.status === 403) {\n      // Clear token and user if needed\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n\n      // Could also redirect to login page here if needed\n      // window.location.href = '/login';\n    }\n  } else if (error.request) {\n    // Request made but no response received\n    console.error(\"API Request Error:\", error.request);\n  } else {\n    // Something else caused an error\n    console.error(\"API Error:\", error.message);\n  }\n  return Promise.reject(error);\n});\n\n// Set token when available\nexport const setAuthToken = token => {\n  if (token) {\n    api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  } else {\n    delete api.defaults.headers.common['Authorization'];\n  }\n};\n\n// Auth Services\nexport const registerUser = async (email, password) => {\n  return await api.post('/auth/register', {\n    email,\n    password\n  });\n};\nexport const loginUser = async (email, password) => {\n  return await api.post('/auth/login', {\n    email,\n    password\n  });\n};\n\n// User Services\nexport const fetchUserProfile = async email => {\n  return await api.get(`/users/profile/${email}`);\n};\nexport const updateUserProfile = async profileData => {\n  return await api.post('/users/profile', profileData);\n};\n\n// Event Services\nexport const fetchEvents = async () => {\n  return await api.get('/events');\n};\nexport const fetchEventById = async eventId => {\n  return await api.get(`/events/${eventId}`);\n};\nexport const createEvent = async eventData => {\n  return await api.post('/events/create', eventData);\n};\nexport const updateEvent = async (eventId, eventData) => {\n  return await api.put(`/events/${eventId}`, eventData);\n};\nexport const deleteEvent = async eventId => {\n  return await api.delete(`/events/${eventId}`);\n};\n\n// Match Services\nexport const matchVolunteers = async eventId => {\n  return await api.post(`/match/${eventId}`);\n};\n\n// Other services can be added as needed\n\nexport default api;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","interceptors","response","use","error","console","data","status","localStorage","removeItem","request","message","Promise","reject","setAuthToken","token","defaults","common","registerUser","email","password","post","loginUser","fetchUserProfile","get","updateUserProfile","profileData","fetchEvents","fetchEventById","eventId","createEvent","eventData","updateEvent","put","deleteEvent","delete","matchVolunteers"],"sources":["/Users/omarsiddiqui/Web-Design/src/services/api.js"],"sourcesContent":["import axios from \"axios\";\n\n// Get API URL from environment variables or use default\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5001/api\";\n\n// Create an axios instance with defaults\nconst api = axios.create({\n    baseURL: API_URL,\n    headers: {\n        'Content-Type': 'application/json'\n    }\n});\n\n// Interceptor for handling errors globally\napi.interceptors.response.use(\n    response => response,\n    error => {\n        // Handle common errors\n        if (error.response) {\n            // Server responded with error status (4xx, 5xx)\n            console.error(\"API Error:\", error.response.data);\n            \n            // Handle authentication errors - redirect to login if unauthorized\n            if (error.response.status === 401 || error.response.status === 403) {\n                // Clear token and user if needed\n                localStorage.removeItem('token');\n                localStorage.removeItem('user');\n                \n                // Could also redirect to login page here if needed\n                // window.location.href = '/login';\n            }\n        } else if (error.request) {\n            // Request made but no response received\n            console.error(\"API Request Error:\", error.request);\n        } else {\n            // Something else caused an error\n            console.error(\"API Error:\", error.message);\n        }\n        return Promise.reject(error);\n    }\n);\n\n// Set token when available\nexport const setAuthToken = (token) => {\n    if (token) {\n        api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    } else {\n        delete api.defaults.headers.common['Authorization'];\n    }\n};\n\n// Auth Services\nexport const registerUser = async (email, password) => {\n    return await api.post('/auth/register', { email, password });\n};\n\nexport const loginUser = async (email, password) => {\n    return await api.post('/auth/login', { email, password });\n};\n\n// User Services\nexport const fetchUserProfile = async (email) => {\n    return await api.get(`/users/profile/${email}`);\n};\n\nexport const updateUserProfile = async (profileData) => {\n    return await api.post('/users/profile', profileData);\n};\n\n// Event Services\nexport const fetchEvents = async () => {\n    return await api.get('/events');\n};\n\nexport const fetchEventById = async (eventId) => {\n    return await api.get(`/events/${eventId}`);\n};\n\nexport const createEvent = async (eventData) => {\n    return await api.post('/events/create', eventData);\n};\n\nexport const updateEvent = async (eventId, eventData) => {\n    return await api.put(`/events/${eventId}`, eventData);\n};\n\nexport const deleteEvent = async (eventId) => {\n    return await api.delete(`/events/${eventId}`);\n};\n\n// Match Services\nexport const matchVolunteers = async (eventId) => {\n    return await api.post(`/match/${eventId}`);\n};\n\n// Other services can be added as needed\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}